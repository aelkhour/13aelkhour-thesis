\documentclass[a4paper,twoside,openright]{book}

%AMS Math + UTF8 mapping of ams symbols
%------------------------------------------------------
%\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{amssymb} % I load it after Fourier else I have more incorrect utf8 mapping (with \geqslant for example)
%Correct UTF8 mapping for ams fonts
\ifdefined\pdffontattr% \ifdefined is part of the e-TeX extension, which is part of any modern LaTeX compiler.
    \immediate\pdfobj stream file {umsa.cmap}
    {\usefont{U}{msa}{m}{n}\pdffontattr\font{/ToUnicode \the\pdflastobj\space 0 R}}
    \immediate\pdfobj stream file {umsb.cmap}
    {\usefont{U}{msb}{m}{n}\pdffontattr\font{/ToUnicode \the\pdflastobj\space 0 R}}
\fi

% Other packages.
\usepackage[USenglish]{babel}

\usepackage{array}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{mathtools}
\usepackage{makeidx}
\usepackage[pdftex]{graphicx}
\usepackage{url}
\usepackage{epigraph}
\usepackage{hyperref}
\usepackage{natbib}

\usepackage{fancyhdr}

\usepackage{hyperref}

\usepackage{type1cm}
\usepackage{lettrine}

\usepackage{color}
\usepackage{colortbl}
\usepackage{placeins}

\usepackage[overlap,CJK]{ruby}    % Furigana support
\renewcommand{\rubysize}{0.5}     % Furigana size
\renewcommand{\rubysep}{-0.3ex}   % Spacing between Furigana and Kanji

\usepackage{multirow}

\usepackage{titlesec}
\titleformat{\chapter}[display]
{\normalfont\bfseries\filcenter}
{\LARGE\thechapter}
{1ex}
{\titlerule[2pt]
\vspace{2ex}%
\LARGE}
[\vspace{1ex}%
{\titlerule[2pt]}]

\usepackage{algorithmic, algorithm}

\usepackage[squaren, Gray, cdot]{SIunits}

\usepackage{rotating}

\usepackage{tikz, pgfplots}
\usepackage{tikz-qtree}

\usetikzlibrary{patterns}

\renewcommand{\algorithmicrequire}{\textbf{Input:}}
\renewcommand{\algorithmicensure}{\textbf{Output:}}

% Setup pdf meta-data.
\hypersetup{ % Modifiez la valeur des champs suivants
pdfauthor = {Antonio El Khoury},
pdftitle = {Optimisation num\'erique pour la robotique et ex\'ecution de trajectoires r\'ef\'erenc\'ees capteurs},
pdfsubject = {Optimisation num\'erique pour la robotique et ex\'ecution de trajectoires r\'ef\'erenc\'ees capteurs},
pdfkeywords = {Motion Planning, Optimal Control, Humanoid Robot},
pdfcreator = {Antonio El Khoury},
pdfproducer = {Antonio El Khoury}
}

% Customize chapter head.
\makeatletter
\renewcommand\chapter{\if@openright\cleardoublepage\else\clearpage\fi
                    \thispagestyle{empty}%
                    \global\@topnum\z@
                    \@afterindentfalse
                    \secdef\@chapter\@schapter}
\def\@makechapterhead#1{%
  \vspace*{50\p@}%
  {\parindent \z@ \raggedright \normalfont
    \ifnum \c@secnumdepth >\m@ne
      \if@mainmatter
        \Huge\bfseries\thechapter\enspace
      \fi
    \fi
    \Huge \bfseries #1\par\nobreak
    \vskip 40\p@
  }}
\makeatother

\newcommand\vect[1]{\textbf{#1}}
\newcommand\moment[2]{{\cal M}_{#2}^{#1}}
\def\crossprod{\times}

\def\vi{\vect{v}_{i}}
\def\vG{\vect{v}_{G}}
\def\gammai{\gamma_{i}}
\def\gammaG{\gamma_{G}}

% Enforce math style.
\everymath{\displaystyle}

% Generate index.
\makeindex

% Please fancyhdr.
\pagestyle{headings}
\setlength{\headheight}{25pt}

% Custom commands.
\newcommand{\transformation}[2]{%
\ensuremath{{}^{#1}\!\text{M}_{#2}}}

\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}

\begin{document}
\bibliographystyle{these}
%
\author{Antonio El Khoury}
\title{Optimisation numérique pour la robotique et exécution de trajectoires référencées capteurs}
\date{Juillet 2012}
%
\thispagestyle{empty}
\begin{tikzpicture}[remember picture, overlay]
 \node[inner sep=0pt] at (current page.center) {%
  \includegraphics[width=\paperwidth,height=\paperheight]{couverture}%
};
\end{tikzpicture}
%
\frontmatter
\tableofcontents{\thispagestyle{headings}}
%
\mainmatter
\pagestyle{empty}
%\include{src/remerciements}
%\include{src/publis}

% Define headers
\pagestyle{fancy}
\renewcommand{\headrulewidth}{0pt}
\fancyhf{}
\fancyhead[LE]{\leftmark} % Chapter name on left even pages
\fancyhead[RE]{\thepage} % Page number on right even pages
\fancyhead[LO]{\rightmark} % Section name on left odd pages
\fancyhead[RO]{\thepage} % Page number on right odd pages

%\include{src/chap0-introduction/chap0-introduction}
\include{src/chap1-path-optimization/chap1-path-optimization}

\backmatter

\addcontentsline{toc}{chapter}{Liste of figures}
\listoffigures
\addcontentsline{toc}{chapter}{Liste of tables}
\listoftables

%
% Bibliography
\addcontentsline{toc}{chapter}{Bibliography}
\nocite{*}
\bibliography{thesis}
%
% Index
\cleardoublepage
\addcontentsline{toc}{chapter}{Index}
\printindex
%
\end{document}
